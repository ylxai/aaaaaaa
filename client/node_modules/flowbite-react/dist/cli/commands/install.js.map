{"version":3,"file":"install.js","sources":["../../../src/cli/commands/install.ts"],"sourcesContent":["import { resolveCommand } from \"package-manager-detector/commands\";\nimport { detect } from \"package-manager-detector/detect\";\nimport { execCommand } from \"../utils/exec-command\";\nimport { getModulePackageJson } from \"../utils/get-module-package-json\";\nimport { getPackageJson } from \"../utils/get-package-json\";\n\n/**\n * Installs `flowbite-react` package using the detected package manager.\n */\nexport async function installPackage() {\n  const packageName = \"flowbite-react\";\n\n  try {\n    let pm = await detect();\n\n    if (!pm) {\n      console.error(\"Could not detect package manager\");\n    }\n\n    pm ??= { agent: \"npm\", name: \"npm\" };\n\n    const packageJson = await getPackageJson();\n    const currentPackage = await getModulePackageJson(packageName);\n\n    if (currentPackage && (packageJson?.dependencies?.[packageName] || packageJson?.devDependencies?.[packageName])) {\n      if (currentPackage.version.localeCompare(\"0.11\", undefined, { numeric: true }) < 0) {\n        console.log(\n          \"The current version of flowbite-react is below 0.11.x, which is the version with the new engine and CLI.\",\n        );\n        const { command = \"\", args } = resolveCommand(pm.agent, \"add\", [`${packageName}@latest`]) ?? {};\n        console.log(`Updating ${packageName} to latest version using ${pm.name}...`);\n        await execCommand(command, args);\n      }\n      return;\n    }\n\n    const { command = \"\", args } = resolveCommand(pm.agent, \"add\", [packageName]) ?? {};\n\n    console.log(`Installing ${packageName} using ${pm.name}...`);\n    await execCommand(command, args);\n  } catch (error) {\n    console.error(`Failed to install ${packageName}:`, error);\n  }\n}\n"],"names":[],"mappings":";;;;;;AAMO,eAAe,cAAc,GAAG;AACvC,EAAE,MAAM,WAAW,GAAG,gBAAgB;AACtC,EAAE,IAAI;AACN,IAAI,IAAI,EAAE,GAAG,MAAM,MAAM,EAAE;AAC3B,IAAI,IAAI,CAAC,EAAE,EAAE;AACb,MAAM,OAAO,CAAC,KAAK,CAAC,kCAAkC,CAAC;AACvD;AACA,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AAC9C,IAAI,MAAM,WAAW,GAAG,MAAM,cAAc,EAAE;AAC9C,IAAI,MAAM,cAAc,GAAG,MAAM,oBAAoB,CAAC,WAAW,CAAC;AAClE,IAAI,IAAI,cAAc,KAAK,WAAW,EAAE,YAAY,GAAG,WAAW,CAAC,IAAI,WAAW,EAAE,eAAe,GAAG,WAAW,CAAC,CAAC,EAAE;AACrH,MAAM,IAAI,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE;AACvF,QAAQ,OAAO,CAAC,GAAG;AACnB,UAAU;AACV,SAAS;AACT,QAAQ,MAAM,EAAE,OAAO,EAAE,QAAQ,GAAG,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE;AACxH,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,WAAW,CAAC,yBAAyB,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACpF,QAAQ,MAAM,WAAW,CAAC,QAAQ,EAAE,KAAK,CAAC;AAC1C;AACA,MAAM;AACN;AACA,IAAI,MAAM,EAAE,OAAO,GAAG,EAAE,EAAE,IAAI,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;AACvF,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,WAAW,CAAC,OAAO,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAChE,IAAI,MAAM,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC;AACpC,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC;AAC7D;AACA;;;;"}